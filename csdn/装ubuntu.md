- 下载相关软件easybcd ubuntu

  ubuntu18.04镜像iso
  链接：https://pan.baidu.com/s/12dZWC_erL5qBQvM7ki2g9A 密码：9d5g
  EasyBCD2.2

  链接：https://pan.baidu.com/s/1FtdJgSv0w3T6t96O7SUn9w 密码：fse9

- Windows硬盘分区100G

   win+x  -》 磁盘管理 

  压缩券100G

  

  *出现这种现象的原因应该是：估计是可能有些文件占用了较后的存储位置，导致空间不连续，无法合并成为新的空间。*

  *解决步骤如下：*

  *1、对所要压缩的磁盘进行磁盘优化，即碎片整理。打开”计算机“，在想压缩的分区上右击选择”属性“，在打开的对话框中选择”工具“页，点击“优化”，将文件存储优化。*

  *2、在桌面上的“这台电脑”上右单击，选择“属性”，在左侧菜单中选择“系统保护”，在弹出框中选中要压缩的分区，点击“配置”，在弹出框中选择“禁用系统保护”后点击“确定”。*

  *3、在“计算机”上右击，选择“属性”，在弹出框中选择左侧菜单“高级系统设置”，在弹出框的高级分页下，点击第一个性能框中的”设置“按钮，在弹出框中选择”高级”页，点击虚拟内存分页右下角的“更改”按钮。*

  *在弹出的标题为“虚拟内存”的对话框中，取消“自动管理所有驱动器的分页文件大小”前面的勾，同时选择”无分页文件“，点击右侧的”设置“，后”确认“，根据提示，重启系统。（操作过程中鼠标左击了一下需要压缩的磁盘卷标，继而再点击“无分页文件”右侧的“设置”，后“确认”，最后重启系统）*

  ** 

  *重启后再次进入磁盘压缩界面，发现可压缩空间接近所有剩余空间，目标达成。*

  **压缩完需要的空间以后记得把保护和分页功能开回去。**

  **重启再继续**

- iso文件设置

  将系统文件iso的casper中的 initrd.lz（也有的是initrd） 和 vmlinuz.efi 两个文件解压到C盘根目录，同时把iso文件也方法到C盘根目录下，这里不限制，放在其他分区也可以，但三个文件一定要放在一起，而且是分区的根目录下。

  

- EasyBCD设置NeoGrub引导

   打开EasyBCD，添加新条目，NeoGrub，安装。 

   然后点击，配置。在出现的menu.lst最后输入一下内容： 

  > title Install Ubuntu   #随便写
  > root (hd0,0)        
  > kernel (hd0,0)/vmlinuz.efi boot=casper iso-scan/filename=/ubuntu-16.04-desktop-amd64.iso locale=zh_CN.UTF-8
  > initrd (hd0,0)/initrd

  ​	*说明：hd0表示c盘所处的硬盘号，一般电脑只有一个，所以都是hd0；如果有多个硬盘，则根据情况改为hd0、hd1等。*

  *hd0后面的数字表示C盘在硬盘中的分区顺序，每个人的系统不大一样，不知道的可以在磁盘管理里面看一下，本人c盘是第三个分区，因此写为（hd0,2），如果是第一个，写为（hd0,0）即可。*

- 重启

   选择 NeoGrub 

- 取消对光盘所在驱动器的挂载

  > sudo umount -l /isodevice

- 安装ubuntu

   接下来选择简体中文；不用选中安装第三方软件和更新，否则安装会很慢，为保险起见可以断开网络连接；安装类型选择“其他选项”。 

  

- 分区

  

  /boot   : 这是引导分区,200M足够, Ext4 日志文件系统, 逻辑分区
  /         : 这是系统文件的根目录, 30GB够用，Ext4 日志文件系统, 逻辑分区(后来发现30G远远不够用，从此以后分了200G)
  /swap  : 交换分区, 类似windows的虚拟内存，一般不大于物理内存就行，当前分的是1024M。交换空间, 逻辑分区
  /home : 个人文档分区. Ext4日志文件系统, 逻辑分区

   *ubuntu分区(注意顺序,/boot放最后因为win7已经有主分区了,而且MBR的数量限制)*



​				/swap：交换分区 2048M

​				/boot：200M

​				/：剩余所有

​				/home：60G

​				

- 完成后续工作

  安装完后，不要忘了回到win7系统打开easyBCD软件把“NeoGrub”引导项删除，否则每次进入win7都得选一次。如果觉得以后不想重装Ubuntu了，就可以把C盘的相关文件都删掉，节省空间嘛。

- 利用EasyBCD引导Ubuntu在开机的时候启动

  进入easyBCD

  点击添加新条目

  点击linux/BSD

  类型GRUB(Legacy),名称ubuntu (自定义的),驱动器,选择当初/boot所在分区,选择Linux-190MB

  点击添加条目

  重启之后就能看到ubuntu 的启动项了